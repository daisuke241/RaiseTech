# 第7回課題　

## 課題で作成している環境はどんな攻撃にたいして「脆弱」でどのような対策が取れそうか？

### 課題の感想

攻撃方法や対策を調べるなかで、
攻撃は攻撃者の本当にやりたいことのきっかけを作る為の手段に過ぎないと感じました。
対策の印象は攻撃者の本当にやりたいことのきっかけにさせないようにすることであり、たとえ突破されてもいいように複数の対策を準備して対処できるようにしてると感じました。
そしてどんな攻撃にたいして「脆弱」でどのような対策が取れそうかという順番で考えると、
攻撃に対しての脆弱性はわかるが攻撃者や攻撃に対し後追いする形になりサービスや情報を守りきれないと思いました。
攻撃から脆弱性を調べるより脆弱性から攻撃方法を調べるほうが簡単に思えました。

### 脆弱な点と攻撃方法や対策

#### Webアプリケーション

##### 脆弱な点

Webアプリケーションの脆弱性を利用し想定されない断片的なSQL文をアプリケーションに注入（インジェクション）実行させる

##### 攻撃

SQLインジェクション 

##### 対策

・プレースホルダの利用
・ActiveRecordの利用

##### 脆弱な点

投稿や入力欄にJavaScriptを埋め込まれる

##### 攻撃

XSS（クロスサイトスクリプティング）

##### 対策

・サニタイジング（スクリプトの無害化）
・入力値を制限する
・WAF（Web Application Firewall）導入

##### 脆弱な点

本来アクセスしてはいけない情報や機能にアクセスできてしまう

##### 攻撃

Broken Access Control（アクセスコントロールの不備）

##### 対策

・アクセス権限の管理を適切におこなう


#### OS、ミドルウェア

##### 脆弱な点　

外部からの攻撃により、ウェブサーバのOSコマンドを不正に実行されてしまう

##### 攻撃

OSコマンド・インジェクション

##### 対策

・WAF（Web Application Firewall）導入

##### 脆弱な点

パスワードやログイン試行に制限がない

##### 攻撃

Brute Force Attack（可能な組み合わせを1つずつ試して正しいパスワードを当てる攻撃）

##### 対策

・8桁以上のパスワードを設定する
・2段階認証やワンタイムパスワードにする
・WAF（Web Application Firewall）導入

##### 脆弱な点

ソフトウェアが古いままだと、すでに知られているセキュリティの欠陥（脆弱性）が修正されておらず、攻撃されやすい状態にある

##### 攻撃

Outdated Software

##### 対策

・定期的にgemやライブラリのアップデート


#### ネットワーク、その他への攻撃と対策

##### 脆弱な点

ALBやNginxに大量のアクセスを送りサービス停止させる

##### 攻撃

DDoS（分散型サービス拒否攻撃）

##### 対策

・不正な通信を検知・遮断するWAF（Web Application Firewall）の導入
・トラフィックを分散させるCDN（Content Delivery Network）の活用
・DoS攻撃への対策としてIPアドレス制限とリソース監視

##### 脆弱な点

 応答から稼働状況を調べ攻撃の情報収集をするためEC2やRDSの開いてるポートを探す

##### 攻撃

Port Scanning（ポートスキャン）

##### 対策

・不要なポートは閉じる
・サーバーを常に最新の状態に保つ
・WAF（Web Application Firewall）の導入

##### 脆弱な点

IAMロールに必要以上に強いIAMポリシーを付与

##### 攻撃

Excessive Permissions（過剰な権限）

##### 対策

・最小権限の原則（Least Privilege）を守る
・使っていないなら IAMロールを削除する、または読み取り専用にする
・CloudTrailやConfigでログを記録する